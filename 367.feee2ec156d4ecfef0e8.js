(self.webpackChunkaxidraw_web=self.webpackChunkaxidraw_web||[]).push([[367],{5374:function(e,t,n){"use strict";n.d(t,{G7:function(){return r},Hr:function(){return i},d4:function(){return o},Pz:function(){return u},x1:function(){return c}});const r="\r",i="\r\n",o="\n\r",u="OK\r\n",c=1},7369:function(e,t,n){"use strict";n.r(t),n.d(t,{a:function(){return o},ac:function(){return c},bl:function(){return l},c:function(){return s},ck:function(){return a},cs:function(){return d},cu:function(){return f},em:function(){return m},es:function(){return y},hm:function(){return p},i:function(){return b},lm:function(){return v},lt:function(){return g},mr:function(){return E},mw:function(){return A},nd:function(){return S},ni:function(){return h},o:function(){return Z},pc:function(){return C},pd:function(){return x},pg:function(){return w},pi:function(){return $},po:function(){return T},qb:function(){return P.Z},qc:function(){return q},qe:function(){return Q},qg:function(){return H},ql:function(){return N},qm:function(){return F},qn:function(){return j},qp:function(){return L},qr:function(){return R},qs:function(){return k},qt:function(){return M},r:function(){return W.Z},rb:function(){return O},s2:function(){return z},sc:function(){return B},se:function(){return D},sl:function(){return I},sm:function(){return _.Z},sn:function(){return G},sp:function(){return V.Z},sr:function(){return J},st:function(){return K},t:function(){return U},tp:function(){return X},v:function(){return Y.Z},xm:function(){return ee}});var r=n(848),i=n(5374),o=(0,r.fA)("A","Get analog values",(function*(){const e=yield"A\r",t=yield*(0,r.Tb)(i.Hr,e);return(0,r.F7)(t,(e=>e.trim().substr(2).split(",").reduce(((e,t)=>{const[n,i]=t.split(":");return{...e,[(0,r.Hq)(n)]:(0,r.Hq)(i)}}),{})))}),{version:"2.2.3"}),u=n(1980),c=(0,r.fA)("AC","Analog configure",(function*(e,t){const n=yield`AC,${[e,t].join(",")}\r`;return yield*(0,u.Z)(n)}),{version:"2.2.3"}),l=(0,r.fA)("BL","Enter bootloader",(function*(){const e=yield"BL\r";return yield*(0,u.Z)(e)}),{version:"1.9.5"}),s=(0,r.fA)("C","Configure pin direction",(function*(e,t,n,r,i){const o=yield`C,${[e,t,n,r,i].join(",")}\r`;return yield*(0,u.Z)(o)})),a=(0,r.fA)("CK","Check input",(function*(e,t,n,o,u,c,l,s){const a=yield`CK,${[e,t,n,o,u,c,l,s].join(",")}\r`,d=yield*(0,r.Tb)(i.Pz,a);return(0,r.F7)(d,(e=>e.substring(0,e.length-6).split(/\s+/).map(((e,t)=>{const n=e.split("=")[1];return t<6?(0,r.Hq)(n):n}))))})),d=(0,r.fA)("CS","Clear step position",(function*(){const e=yield"CS\r";return yield*(0,u.Z)(e)}),{version:"2.4.3"}),f=(0,r.fA)("CU","Configure user options",(function*(e,t){const n=yield`CU,${[e,t].join(",")}\r`;return yield*(0,u.Z)(n)})),m=(0,r.fA)("EM","Enable Motors",(function*(e,t){const n=yield`EM,${[e,t].join(",")}\r`;return yield*(0,u.Z)(n)}),{execution:i.x1}),y=(0,r.fA)("ES","E stop",(function*(e){const t=yield(0,r.iW)("ES",e),n=yield*(0,r.Tb)(i.Pz,t);return(0,r.F7)(n,(e=>{const t=e.substring(0,e.length-6).split(",").map(r.Hq);return{interrupted:t[0],axis1:{steps:t[1],remain:t[3]},axis2:{steps:t[2],remain:t[4]}}}))}),{version:"2.2.7"}),p=(0,r.fA)("HM","Home or absolute move",(function*(e,t,n){const i=yield(0,r.iW)(`HM,${e}`,t,n);return yield*(0,u.Z)(i)}),{execution:i.x1,version:"2.6.2"}),b=(0,r.fA)("I","Input (digital)",(function*(){const e=yield"I\r",t=yield*(0,r.Tb)(i.Hr,e);return(0,r.F7)(t,(e=>e.trim().substr(2).split(",").map(r.Hq)))})),v=(0,r.fA)("LM","Low-level move, step-limited",(function*(e,t,n,i,o,c,l){const s=yield(0,r.iW)(`LM,${[e,t,n,i,o,c].join(",")}`,l);return yield*(0,u.Z)(s)}),{execution:i.x1,version:"2.7.0"}),g=(0,r.fA)("LT","Low-level move, time-limited",(function*(e,t,n,i,o,c){const l=yield(0,r.iW)(`LT,${[e,t,n,i,o].join(",")}`,c);return yield*(0,u.Z)(l)}),{execution:i.x1,version:"2.7.0"}),E=(0,r.fA)("MR","Memory Read",(function*(e){const t=yield`MR,${e}\r`,n=yield*(0,r.Tb)(i.Hr,t);return(0,r.F7)(n,(e=>(0,r.Hq)(e.substr(3))))})),A=(0,r.fA)("MW","Memory Write",(function*(e,t){const n=yield`MW,${e},${t}\r`;return yield*(0,u.Z)(n)})),S=(0,r.fA)("ND","Node count decrement",(function*(){const e=yield"ND\r";return yield*(0,u.Z)(e)}),{version:"1.9.5"}),h=(0,r.fA)("NI","Node count increment",(function*(){const e=yield"NI\r";return yield*(0,u.Z)(e)}),{version:"1.9.5"}),Z=(0,r.fA)("O","Output (digital)",(function*(e,t,n,i,o){const c=yield(0,r.iW)(`O,${e}`,t,n,i,o);return yield*(0,u.Z)(c)})),C=(0,r.fA)("PC","Pulse configure",(function*(e,t,n,i,o,c,l,s){const a=yield(0,r.iW)(`PC,${e},${t}`,n,i,o,c,l,s);return yield*(0,u.Z)(a)})),x=(0,r.fA)("PD","Pin direction",(function*(e,t,n){const r=yield`PD,${e},${t},${n}\r`;return yield*(0,u.Z)(r)})),w=(0,r.fA)("PG","Pulse go",(function*(e){const t=yield`PG,${e}\r`;return yield*(0,u.Z)(t)})),$=(0,r.fA)("PI","Pin input",(function*(e,t){const n=yield`PI,${e},${t}\r`,o=yield*(0,r.Tb)(i.Hr,n);return(0,r.F7)(o,(e=>(0,r.Hq)(e.substr(3))))})),T=(0,r.fA)("PO","Pin output",(function*(e,t,n){const r=yield`PO,${e},${t},${n}\r`;return yield*(0,u.Z)(r)})),P=n(8315),q=(0,r.fA)("QC","Query current",(function*(){const e=yield"QC\r",t=yield*(0,r.Tb)(i.Pz,e);return(0,r.F7)(t,(e=>{const t=e.substring(0,e.length-6).split(",").map((e=>((0,r.Hq)(e)/1023*3.3).toFixed(2)));return{ra0:{voltage:t[0],maxCurrent:(t[0]/1.76).toFixed(2)},vPlus:{voltage:(9.2*t[1]+.3).toFixed(2)}}}))}),{version:"2.2.3"}),Q=(0,r.fA)("QE","Query motor enable",(function*(){const e=yield"QE\r",t=yield*(0,r.Tb)(i.Pz,e);return(0,r.F7)(t,(e=>e.substring(0,e.length-6).split(",").map(r.Hq)))}),{version:"2.8.0"}),H=(0,r.fA)("QG","Query general",(function*(){const e=yield"QG\r",t=yield*(0,r.Tb)(i.Hr,e);return(0,r.F7)(t,(e=>{const t=(0,r.Hq)(e);return{fifo:(1&t)>0,mtr2:(2&t)>0,mtr1:(4&t)>0,cmd:(8&t)>0,pen:(16&t)>0,prg:(32&t)>0,rb2:(64&t)>0,rb5:(128&t)>0}}))}),{version:"2.6.2"}),N=(0,r.fA)("QL","Query layer",(function*(){const e=yield"QL\r",t=yield*(0,r.Tb)(i.Pz,e);return(0,r.F7)(t,(e=>(0,r.Hq)(e)))}),{version:"1.9.2"}),F=(0,r.fA)("QM","Query motors",(function*(){const e=yield"QM\r",t=yield*(0,r.Tb)(i.d4,e);return(0,r.F7)(t,(e=>{const t=e.trim().substr(3).split(",").map(r.Hq);return{command:t[0],motor1:t[1],motor2:t[2],fifo:t[3]}}))}),{version:"2.4.4"}),j=(0,r.fA)("QN","Query node count",(function*(){const e=yield"QN\r",t=yield*(0,r.Tb)(i.Pz,e);return(0,r.F7)(t,(e=>(0,r.Hq)(e)))}),{version:"1.9.2"}),L=(0,r.fA)("QP","Query pen",(function*(){const e=yield"QP\r",t=yield*(0,r.Tb)(i.Pz,e);return(0,r.F7)(t,(e=>(0,r.Hq)(e)))}),{version:"1.9.0"}),R=(0,r.fA)("QR","Query RC Servo power state",(function*(){const e=yield"QR\r",t=yield*(0,r.Tb)(i.Pz,e);return(0,r.F7)(t,(e=>(0,r.Hq)(e)))}),{version:"2.6.0"}),k=(0,r.fA)("QS","Query step position",(function*(){const e=yield"QS\r",t=yield*(0,r.Tb)(i.Pz,e);return(0,r.F7)(t,(e=>{const t=e.substring(0,e.length-6).split(",").map(r.Hq);return{a1:t[0],a2:t[1]}}))}),{version:"2.4.3"}),M=(0,r.fA)("QT","Query EBB nickname tag",(function*(){const e=yield"QT\r",t=yield*(0,r.Tb)(i.Pz,e);return(0,r.F7)(t,(e=>e.substring(0,e.length-6)))}),{version:"2.5.4"}),W=n(5707),O=(0,r.fA)("RB","Reboot",(function*(){return"RB\r"}),{version:"2.5.4"}),z=(0,r.fA)("S2","General RC Servo output",(function*(e,t,n,i){const o=yield(0,r.iW)(`S2,${e},${t}`,n,i);return yield*(0,u.Z)(o)}),{execution:i.x1,version:"2.2.0"}),B=(0,r.fA)("SC","Stepper and Servo mode configure",(function*(e,t){const n=yield`SC,${e},${t}\r`;return yield*(0,u.Z)(n)})),D=(0,r.fA)("SE","Set engraver",(function*(e,t,n){const i=yield(0,r.iW)(`SE,${e}`,t,n);return yield*(0,u.Z)(i)}),{execution:i.x1,version:"2.1.0"}),I=(0,r.fA)("SL","Set layer",(function*(e){const t=yield`SL,${e}\r`;return yield*(0,u.Z)(t)}),{version:"1.9.2"}),_=n(1632),G=(0,r.fA)("SN","Set node count",(function*(e){const t=yield`SN,${e}\r`;return yield*(0,u.Z)(t)}),{version:"1.9.5"}),V=n(1519),J=(0,r.fA)("SR","Set RC Servo power timeout",(function*(e,t){const n=yield(0,r.iW)(`SR,${e}`,t);return yield*(0,u.Z)(n)}),{version:"2.6.0"}),K=(0,r.fA)("ST","Set EBB nickname tag",(function*(e){const t=yield`ST,${e}\r`;return yield*(0,u.Z)(t)}),{version:"2.5.5"}),U=(0,r.fA)("T","Timed analog/digital read",(function*(e,t){const n=yield`T,${e},${t}\r`;return yield*(0,u.Z)(n)})),X=(0,r.fA)("TP","Toggle pen",(function*(e){const t=yield(0,r.iW)("TP",e);return yield*(0,u.Z)(t)}),{version:"1.9.0"}),Y=n(2206),ee=(0,r.fA)("XM","Stepper move, mixed-axis geometries",(function*(e,t,n){const r=yield`XM,${e},${t},${n}\r`;return yield*(0,u.Z)(r)}),{execution:i.x1,version:"2.3.0"})},8599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(7294),i=n(6370),o=n(4184),u=n.n(o),c=n(3379),l=n.n(c),s=n(7795),a=n.n(s),d=n(695),f=n.n(d),m=n(9216),y=n.n(m),p=n(1573),b={styleTagTransform:function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},setAttributes:function(e){var t=n.nc;t&&e.setAttribute("nonce",t)},insert:function(e){var t=f()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}};b.domAPI=a(),b.insertStyleElement=y(),l()(p.Z,b);var v=p.Z&&p.Z.locals?p.Z.locals:void 0,g=n(2105),E=n(5697),A=n.n(E),S=n(7369),h=n(2221);const Z=(0,n(6010).f)("debugger"),C=Object.keys(S),x=({device:e})=>{const[t,n]=(0,r.useState)("r"),[i,o]=(0,r.useState)(""),[u,c]=(0,r.useState)({}),[l,s]=(0,r.useState)("");(0,r.useEffect)((()=>{var e;o(null!==(e=u[t])&&void 0!==e?e:"")}),[t]);const a=(0,r.useCallback)((async n=>{n.preventDefault(),Z("simple",t);try{const n=i.trim();c({...u,[t]:n});const r=""===n?[]:n.split(","),o=await e.executeCommand(S[t],...r);s("object"==typeof o?JSON.stringify(o):o)}catch(e){s(e.toString())}}),[e,t,i,u]);return r.createElement("form",{className:g.Z.root,onSubmit:a},r.createElement("h3",null,"Simple Commander"),r.createElement("p",null,"Send simple command to device."),r.createElement("label",{className:g.Z.inputLabel},r.createElement("span",null,"Command:"),r.createElement("select",{defaultValue:t,onChange:e=>n(e.target.value)},C.map((e=>r.createElement("option",{key:e,value:e},S[e].title))))),r.createElement("label",{className:g.Z.inputLabel},r.createElement("span",null,"Params",r.createElement("a",{href:`http://evil-mad.github.io/EggBot/ebb.html#${S[t].cmd}`,target:"_blank",rel:"noreferrer"},"[?]"),":"),r.createElement("input",{type:"text",value:i,onChange:e=>o(e.target.value)})),r.createElement(h.Z,{type:"submit"},"Send"),r.createElement("label",{className:g.Z.inputLabel},r.createElement("span",null,"Result:"),r.createElement("textarea",{rows:"3",defaultValue:l,readOnly:!0})))};x.propTypes={device:A().object.isRequired};var w=x;const $=({device:e})=>{const[t,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),u=(0,r.useCallback)((async n=>{n.preventDefault();try{Z("batch");const n=t.trim().split(/\s+/);let r="";for(const t of n){if(t.startsWith("#"))continue;const n=t.split(","),i=n.shift().toLowerCase(),o=await e.executeCommand(S[i],...n);r+="object"==typeof o?JSON.stringify(o):o,r+="\n"}o(r)}catch(e){o(e.toString())}}),[e,t]);return r.createElement("form",{className:g.Z.root,onSubmit:u},r.createElement("h3",null,"Batch Commander"),r.createElement("p",null,"Send batch commands to device."),r.createElement("label",{className:g.Z.inputLabel},r.createElement("span",null,"Commands:"),r.createElement("textarea",{rows:"3",defaultValue:t,onChange:e=>n(e.target.value)})),r.createElement(h.Z,{type:"submit"},"Send"),r.createElement("label",{className:g.Z.inputLabel},r.createElement("span",null,"Results:"),r.createElement("textarea",{rows:"3",defaultValue:i,readOnly:!0})))};$.propTypes={device:A().object.isRequired};var T=$;const P=[{cmd:S.r},{cmd:S.v},{cmd:S.qb},{cmd:S.tp},{cmd:S.sp,title:"Pen up",params:[1]},{cmd:S.sp,title:"Pen down",params:[0]},{cmd:S.em,title:"Enable motor",params:[1,1]},{cmd:S.em,title:"Disable motor",params:[0,0]}],q=({device:e})=>{const[t,n]=(0,r.useState)(""),i=(0,r.useCallback)((async(t,r=[])=>{Z("fav",t.title);try{const i=await e.executeCommand(t,...r);n("object"==typeof i?JSON.stringify(i):i)}catch(e){n(e.toString())}}),[e]);return r.createElement("form",{className:g.Z.root},r.createElement("h3",null,"Fav Commander"),r.createElement("p",null,"Send frequently used command to device."),r.createElement("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-4"},P.map((e=>{const t=e.title||e.cmd.title;return r.createElement(h.Z,{key:t,onClick:()=>{i(e.cmd,e.params)}},t)}))),r.createElement("label",{className:g.Z.inputLabel},r.createElement("span",null,"Result:"),r.createElement("textarea",{rows:"3",defaultValue:t,readOnly:!0})))};q.propTypes={device:A().object.isRequired};var Q=q,H=n(4807),N=()=>{const[e,t]=(0,r.useState)(null);return r.createElement(r.Fragment,null,r.createElement("div",{className:u()(g.Z.root,v.root)},r.createElement(i.Z,{onConnected:t,onDisconnected:()=>t(null)}),e&&r.createElement(Q,{device:e}),e&&r.createElement(w,{device:e}),e&&r.createElement(T,{device:e})),r.createElement(H.Z,null))}},9062:function(e,t,n){"use strict";n.d(t,{Vs:function(){return r}});const r=(e,t)=>new Promise(((n,r)=>{setTimeout((()=>{r(new Error(t))}),e)}))},1573:function(e,t,n){"use strict";var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"._1j8A1{--tw-bg-opacity:1;--tw-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 10px 10px -5px rgba(0,0,0,0.04);background-color:rgba(255,255,255,var(--tw-bg-opacity));box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);margin-bottom:2rem;margin-left:auto;margin-right:auto;padding:2rem}@media (min-width:768px){._1j8A1{margin-top:2rem}}._1j8A1{display:grid;gap:1.5rem;grid-template-columns:repeat(1,minmax(0,1fr))}@media (min-width:768px){._1j8A1{max-width:600px}}",""]),i.locals={root:"_1j8A1"},t.Z=i}}]);